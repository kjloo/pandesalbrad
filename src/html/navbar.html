<nav class="navbar navbar-dark navbar-expand-md sticky-top flex-column m-0 p-0">
    <div class="container-fluid" ng-app="collectionsPage" ng-controller="navbarController" ng-init="loadCollections()">
        <div class="navbar-header">
			<button class="navbar-toggler" data-toggle="collapse" data-target="#menu-target">
				<span class="navbar-toggler-icon"></span>
			</button>
        </div>
		<a class="navbar-brand px-2 ml-2 mx-auto mr-auto order-0" ng-href="index.html" target="_self">
			<img id="logo" class="my-0" src="/images/icon.png">
		</a>
		<div id="menu-target" class="collapse navbar-collapse order-1">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active">
					<a class="nav-link" ng-href="index.html" target="_self">Home</a>
				</li>
				<li id="collections" class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" data-target="products" ng-href="collections.html" target="_self">
						Collections
					</a>
					<div class="dropdown-menu" aria-labelledby="products">
	                    <div ng-repeat="collection in collections">
						    <a class="dropdown-item" ng-href="products.html?collectionID={{collection.CollectionID}}" target="_self">{{collection.Name}}</a>
	                    </div>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link" ng-href="about.html" target="_self">About</a>
				</li>
			</ul>
		</div>
        <div class="navbar-nav w-md-75 w-100 order-2">
			<form class="mx-auto form-inline pl-3 ml-3 w-100" ng-submit="searchProducts(searchString)">
				<div class="form-group search-menu row pl-2 mb-2 w-100">
				   <input class="form-control form-control-sm col-10" type="search" placeholder="What are you looking for?"
					 aria-label="Search" ng-model="searchString">
				   <button type="submit" class="icon-button"><i class="fas fa-search col-2" aria-hidden="true"></i></button>
				</div>
			</form>
        </div>
		<div class="navbar-nav ml-auto w-md-25 order-0 order-md-3 flex-row">
			<div id="user" class="nav-item dropdown">
				<a class="nav-link" ng-init="getSession(); isAdmin();" data-target="user" data-toggle="dropdown">
                    <span class="d-none d-md-inline" ng-if="user != null">Hello {{fname}}</span>
                    <span class="d-none d-md-inline" ng-if="user == null">My Account</span>
                    <i class="far fa-user" style="color: white"></i>
                </a>
				<ul class="dropdown-menu" aria-labelledby="user">
                    <li><a ng-if="user == null" class="dropdown-item" ng-href="login.html" target="_self">Login</a></li>
                    <li><a ng-if="user == null" class="dropdown-item" ng-href="signup.html" target="_self">Sign Up</a></li>
                    <li><a ng-if="isUserAdmin" ng-href="manage.html" class="dropdown-item" target="_self">Manage Site</a></li>
                    <li><a ng-if="user != null" ng-href="account.html" class="dropdown-item" target="_self">Account Settings</a></li>
                    <li><a ng-if="user != null" ng-href="shipping.html" class="dropdown-item" target="_self">Shipping Information</a></li>
                    <li><a ng-if="user != null" ng-href="orders.html" class="dropdown-item" target="_self">View Orders</a></li>
                    <li><a ng-if="user != null" ng-click="logout()" class="dropdown-item">Logout</a></li>
				</ul>
			</div>
		</div>
		<ul class="navbar-nav ml-auto order-0 order-md-4 flex-row">
			<li class="nav-item">
                <span class="fa-stack has-badge" data-count="{{shoppingCart.count}}">
                	<a ng-href="cart.html" target="_self">
				        <i class="fas fa-1x fa-shopping-cart" style="color: white"></i>
				    </a>
                </span>
			</li>
		</ul>
    </div>
    <div class="trim navbar-nav w-100 m-0 p-0">
        <br/>
    </div>
    </div>
</nav>